# semver-release-action

<!--- everything between the next line and the "end action doc" comment is generated by script/generate --->
<!--- start action doc --->

hop on the release train

## Inputs

### checkout_dir

default: `.`

The directory where the repository is checked out.


### ref

default: `${{ github.ref }}`

The branch or tag to release.


### github_token

default: `${{ github.token }}`

The GitHub token to use for authentication. Must have `contents: write` permission if creating a release or tag.


### create_tag

Whether to create a tag for the release. Any non-empty value will be treated as true.


### create_release

Whether to create a release. Any non-empty value will be treated as true.

Implies `create_tag`.


### release_notes

The release notes to use for the release. If not provided, release notes will be generated by GitHub's release
notes generator.

Ignored unless create_release is set.


### tag_prefix

default: `v`

The prefix to use for the tag. Defaults to `v`.


### default_previous_version

default: `0.0.0`

The default previous version to use if no previous version can be found. This is used to for the first release.

Set to empty string to disable cause it to error if no previous version can be found.


### validate_version

Command to run to validate the version. If the command exits with a non-zero exit code, the release will be
aborted.

The environment variables `RELEASE_VERSION`, `RELEASE_TAG`, `PREVIOUS_VERSION`, `FIRST_RELEASE` and `GITHUB_TOKEN` 
will be set.


### post_release_hook

Command to run after the release is complete. 

The environment variables `RELEASE_VERSION`, `RELEASE_TAG`, `PREVIOUS_VERSION`, `FIRST_RELEASE` and `GITHUB_TOKEN` 
will be set.


## Outputs

### previous_ref

A git ref pointing to the previous release, or the current ref if no previous release can be found.


### previous_version

The previous version on the release branch.


### first_release

Whether this is the first release on the release branch. Either "true" or "false".


### release_version

The version of the new release. Empty if no release is called for.


### release_tag

The tag of the new release. Empty if no release is called for.
<!--- end action doc --->
